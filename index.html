<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aircraft Incidents Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="vertical-container">
        <header class="header-container">
            <h1>Aircraft Incidents Dashboard</h1>
            <p><strong>Author(s):</strong> Xiaoqian Zhou (group 6)</p>         
            <p><strong>Documentation:</strong> <a href="https://docs.google.com/document/d/1GbU8fBbvH_XUfQWvkRSBlcAl2C3LCkvWCCdfem7PIiU/edit?usp=sharing" target="_blank">Aircraft Incidents Dataset Analysis</a></p>
            <p>Interactive visualization of aircraft incidents data</p>   
        </header>
        
        <div class="item chart-with-filters">
            <div class="chart-container">
                <h2>Incidents Over Time</h2>
                <div class="chart-wrapper">
                    <svg id="incidentsLineChart"></svg>
                </div>
            </div>
            
            <div class="filters-container">
                <div class="filter-group">
                    <h3>Filters</h3>
                    
                    <div class="filter-item">
                        <p>Manufacturer</p>
                        <div class="widget-buttons" id="manufacturerButtons">
                            <!-- Manufacturer buttons will be populated dynamically -->
                        </div>
                    </div>
                    
                    <div class="filter-item">
                        <p>Year Range</p>
                        <div class="year-range-container">
                            <div class="year-range-values">
                                <span id="yearMin">1995</span>
                                <span>to</span>
                                <span id="yearMax">2016</span>
                            </div>
                            
                            <div class="double-slider-container">
                                <div id="sliderTrack" class="double-slider-track-inner"></div>
                                <input type="range" id="yearSliderMin" class="double-slider" min="1995" max="2016" value="1995">
                                <input type="range" id="yearSliderMax" class="double-slider" min="1995" max="2016" value="2016">
                            </div>
                            
                            <div class="widget-buttons year-range-buttons">
                                <button id="yearRangeFirst5" class="widget-button">First 5</button>
                                <button id="yearRangeLast5" class="widget-button">Last 5</button>
                                <button id="yearRangeReset" class="widget-button">All Years</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="item chart-with-filters">
            <div class="chart-container">
                <h2>Incidents by Flight Phase</h2>
                <div class="chart-wrapper">
                    <svg id="phaseBarchart"></svg>
                </div>
            </div>
            
            <div class="filters-container">
                <div class="filter-group">
                    <h3>Filters</h3>
                    
                    <div class="filter-item">
                        <p>Flight Phase</p>
                        <div class="widget-buttons phase-buttons">
                            <button id="phase-all-btn" class="widget-button active" data-phase="all">All Phases</button>
                            <button id="phase-takeoff-btn" class="widget-button" data-phase="TAKEOFF">Takeoff</button>
                            <button id="phase-landing-btn" class="widget-button" data-phase="LANDING">Landing</button>
                            <button id="phase-cruise-btn" class="widget-button" data-phase="CRUISE">Cruise</button>
                            <button id="phase-approach-btn" class="widget-button" data-phase="APPROACH">Approach</button>
                            <button id="phase-standing-btn" class="widget-button" data-phase="STANDING">Standing</button>
                        </div>
                        <div class="widget-buttons phase-buttons">
                            <button id="phase-taxi-btn" class="widget-button" data-phase="TAXI">Taxi</button>
                            <button id="phase-climb-btn" class="widget-button" data-phase="CLIMB">Climb</button>
                            <button id="phase-descent-btn" class="widget-button" data-phase="DESCENT">Descent</button>
                            <button id="phase-goaround-btn" class="widget-button" data-phase="GO-AROUND">Go-Around</button>
                            <button id="phase-maneuvering-btn" class="widget-button" data-phase="MANEUVERING">Maneuvering</button>
                        </div>
                    </div>
                    
                    <div class="filter-item">
                        <p>Injury Severity</p>
                        <div class="widget-buttons">
                            <button id="sev-FATAL-btn" class="widget-button active" data-severity="FATAL">Fatal</button>
                            <button id="sev-NON-FATAL-btn" class="widget-button active" data-severity="NON-FATAL">Non-Fatal</button>
                            <button id="sev-INCIDENT-btn" class="widget-button active" data-severity="INCIDENT">Incident</button>
                            <button id="sev-UNAVAILABLE-btn" class="widget-button active" data-severity="UNAVAILABLE">Unavailable</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- KEY INSIGHTS SECTION -->
        <div class="item insights-section">
            <h2>Key Insights</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <h3>Manufacturer Trends</h3>
                    <p>Boeing and Airbus show the highest number of incidents, with Boeing having more incidents overall. This is partly due to their larger fleet sizes and market presence during the analyzed period.</p>
                </div>
                <div class="insight-card">
                    <h3>Flight Phase Analysis</h3>
                    <p>Landing, Takeoff, and Taxi phases show the highest incident rates. These are critical phases of flight with complex operations and higher risk factors.</p>
                </div>
                <div class="insight-card">
                    <h3>Severity Distribution</h3>
                    <p>Most incidents are classified as Non-Fatal or Incident level, with Fatal incidents being relatively rare. This reflects the aviation industry's focus on safety and incident prevention.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="main.js"></script>
</body>
</html>
